# JavaCat MCP Tools

## ğŸ“ æª”æ¡ˆçµæ§‹

```
src/
â”œâ”€â”€ index.ts                    # ä¸»è¦å…¥å£æª”æ¡ˆ
â””â”€â”€ tools/                     # å·¥å…·æª”æ¡ˆå¤¾
    â”œâ”€â”€ index.ts               # å·¥å…·åŒ¯å‡ºæª”æ¡ˆ
    â”œâ”€â”€ types.ts               # å‹åˆ¥å®šç¾©
    â”œâ”€â”€ searchErrorTodoJobs.ts # æŸ¥è©¢éŒ¯èª¤å¾…è¾¦å·¥ä½œæ­·ç¨‹
    â”œâ”€â”€ queryTableRecords.ts   # é€²éšè¡¨æ ¼æŸ¥è©¢å·¥å…·
    â”œâ”€â”€ quickQueryTable.ts     # å¿«é€Ÿè¡¨æ ¼æŸ¥è©¢å·¥å…·
    â”œâ”€â”€ getTableSchema.ts      # å–å¾—è¡¨æ ¼çµæ§‹
    â””â”€â”€ listAvailableTables.ts # åˆ—å‡ºå¯ç”¨è¡¨æ ¼
```

## ğŸ› ï¸ å·¥å…·èªªæ˜

### 1. queryTableRecords
- **åŠŸèƒ½**: é€²éšè¡¨æ ¼æŸ¥è©¢å·¥å…·
- **ç”¨é€”**: æ”¯æ´è¤‡é›œæŸ¥è©¢æ¢ä»¶çš„é€šç”¨è¡¨æ ¼æŸ¥è©¢å·¥å…·
- **ç‰¹è‰²**: 
  - æ”¯æ´å¤šç¨®è³‡æ–™å‹åˆ¥éæ¿¾
  - æ”¯æ´è¡¨é ­å’Œè¡¨èº«æ¢ä»¶
  - æ”¯æ´æ’åºå’Œåˆ†é 
  - æ”¯æ´å°å­˜ç‹€æ…‹å’Œç°½æ ¸ç‹€æ…‹ç¯©é¸

### 2. quickQueryTable
- **åŠŸèƒ½**: å¿«é€Ÿè¡¨æ ¼æŸ¥è©¢å·¥å…·
- **ç”¨é€”**: ç°¡å–®å¿«é€Ÿçš„è¡¨æ ¼æŸ¥è©¢
- **ç‰¹è‰²**:
  - ç°¡åŒ–çš„åƒæ•¸è¨­å®š
  - åŸºæœ¬æ¬„ä½ç¯©é¸
  - æ—¥æœŸç¯„åœç¯©é¸
  - é©åˆå¿«é€ŸæŸ¥çœ‹è³‡æ–™

### 3. getTableSchema
- **åŠŸèƒ½**: å–å¾—è¡¨æ ¼çµæ§‹å®šç¾©
- **ç”¨é€”**: äº†è§£è¡¨æ ¼çš„æ¬„ä½çµæ§‹å’Œè³‡æ–™å‹åˆ¥
- **ç‰¹è‰²**: å¹«åŠ©ç”¨æˆ¶äº†è§£å¯æŸ¥è©¢çš„æ¬„ä½

### 4. listAvailableTables
- **åŠŸèƒ½**: åˆ—å‡ºç³»çµ±ä¸­å¯ç”¨çš„è¡¨æ ¼
- **ç”¨é€”**: æ¢ç´¢ç³»çµ±ä¸­æœ‰å“ªäº›è¡¨æ ¼å¯ä»¥æŸ¥è©¢
- **ç‰¹è‰²**: æ”¯æ´æŒ‰é¡å‹ç¯©é¸ (ç³»çµ±è¡¨æ ¼/è³‡æ–™è¡¨æ ¼)

## ğŸ—ï¸ æ¶æ§‹è¨­è¨ˆ

### ToolContext
æ‰€æœ‰å·¥å…·éƒ½æ¥æ”¶ä¸€å€‹ `ToolContext` ç‰©ä»¶ï¼ŒåŒ…å«ï¼š
- `graphqlClient`: GraphQL å®¢æˆ¶ç«¯å¯¦ä¾‹

### ToolDefinition
çµ±ä¸€çš„å·¥å…·å®šç¾©ä»‹é¢ï¼ŒåŒ…å«ï¼š
- `name`: å·¥å…·åç¨±
- `description`: å·¥å…·æè¿°
- `parameters`: Zod åƒæ•¸é©—è­‰æ¶æ§‹
- `execute`: åŸ·è¡Œå‡½æ•¸

## ğŸ“¦ å¦‚ä½•æ–°å¢å·¥å…·

1. åœ¨ `tools/` è³‡æ–™å¤¾ä¸­å‰µå»ºæ–°çš„å·¥å…·æª”æ¡ˆ
2. å¯¦ä½œå·¥å…·å‡½æ•¸ï¼Œå›å‚³ `ToolDefinition`
3. åœ¨ `tools/index.ts` ä¸­åŒ¯å‡ºæ–°å·¥å…·
4. å°‡å·¥å…·åŠ å…¥ `getAllTools` å‡½æ•¸ä¸­

### ç¯„ä¾‹ï¼š

```typescript
// tools/myNewTool.ts
import { z } from 'zod';
import { ToolContext, ToolDefinition } from './types';

export const myNewTool = (context: ToolContext): ToolDefinition => ({
    name: 'myNewTool',
    description: 'æˆ‘çš„æ–°å·¥å…·',
    parameters: z.object({
        param1: z.string().describe('åƒæ•¸1'),
    }),
    execute: async (args: { param1: string }) => {
        // å¯¦ä½œé‚è¼¯
        return JSON.stringify({ result: 'success' });
    },
});
```

## ğŸš€ å•Ÿå‹•æ–¹å¼

```bash
# å®‰è£ä¾è³´
npm install

# å•Ÿå‹•ä¼ºæœå™¨
npm start
```

ä¼ºæœå™¨æœƒåœ¨ port 54088 ä¸Šå•Ÿå‹•ï¼Œä¸¦è¼‰å…¥æ‰€æœ‰å®šç¾©çš„å·¥å…·ã€‚